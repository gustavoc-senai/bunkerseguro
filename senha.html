<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Terminal de Sobrevivência</title>

<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: radial-gradient(circle, #2c2c1e 0%, #000 100%);
    color: #e0e0e0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.glass-card {
    background: rgba(255,255,255,0.05);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 40px;
    width: 380px;
    text-align: center;
    box-shadow: 0 0 40px rgba(0,0,0,.8);
}

.hidden { display: none; }

h2 {
    color: #ffcc00;
    letter-spacing: 3px;
    font-weight: 300;
}

input {
    width: 100%;
    padding: 12px;
    margin-bottom: 15px;
    background: rgba(0,0,0,0.4);
    border: 1px solid #444;
    border-radius: 8px;
    color: #fff;
    text-align: center;
}

button {
    width: 100%;
    padding: 12px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    font-weight: bold;
}

.btn-primary {
    background: #ffcc00;
    color: #000;
}

.btn-sos {
    background: #ff4d4d;
    color: white;
    font-size: 1.1rem;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(255,77,77,.7); }
    70% { box-shadow: 0 0 0 20px rgba(255,77,77,0); }
    100% { box-shadow: 0 0 0 0 rgba(255,77,77,0); }
}

/* ===== RADAR ===== */

.radar-container {
    margin-top: 25px;
}

.radar {
    position: relative;
    width: 220px;
    height: 220px;
    margin: auto;
    border-radius: 50%;
    background:
        repeating-radial-gradient(circle, #00ff8833 0 2px, transparent 2px 20px),
        radial-gradient(circle, #003b2a, #000);
    overflow: hidden;
    border: 2px solid #00ff88;
}

.radar::after {
    content: "";
    position: absolute;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, #00ff88aa, transparent);
    animation: sweep 2s linear infinite;
}

@keyframes sweep {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.dot {
    position: absolute;
    width: 10px;
    height: 10px;
    background: #ff4d4d;
    border-radius: 50%;
    animation: blink 1.5s infinite;
}

@keyframes blink {
    0%,100% { opacity: 1; }
    50% { opacity: .2; }
}

.radar-text {
    margin-top: 10px;
    color: #00ff88;
    font-size: 0.8rem;
    letter-spacing: 2px;
}
</style>
</head>

<body>

<div id="pagina1" class="glass-card">
    <h2>Acesso</h2>
    <p>Insira a sequência de segurança (separada por hífen)</p>
    <input id="senhaInput" placeholder="S-E-N-H-A">
    <button class="btn-primary" onclick="validarAcesso()">Desbloquear</button>
</div>

<div id="pagina2" class="glass-card hidden">
    <h2>Terminal SOS</h2>
    <p>Informe o número da sala</p>
    <input type="number" id="salaInput" placeholder="Nº da Sala">
    <button class="btn-sos" onclick="pedirSocorro()">Pedir Socorro</button>

    <div id="confirmacao" style="margin-top:15px;"></div>

    <div id="radarBox" class="radar-container hidden">
        <div class="radar">
            <div class="dot"></div>
        </div>
        <div class="radar-text">LOCALIZAÇÃO DETECTADA</div>
    </div>
</div>

<script>
function validarAcesso() {
    if (senhaInput.value === "5-18-12-15-14-13-1-9") {
        pagina1.classList.add("hidden");
        pagina2.classList.remove("hidden");
    } else {
        alert("Senha incorreta");
    }
}

function pedirSocorro() {
    const sala = parseInt(document.getElementById("salaInput").value);
    const dot = document.querySelector(".dot");

    if (isNaN(sala)) {
        alert("Informe a sala!");
        return;
    }

    confirmacao.innerHTML = "  SINAL ENVIADO<br>SALA " + sala;
    radarBox.classList.remove("hidden");

    // ==== POSIÇÃO DO PONTO BASEADA NA SALA ====
    const centro = 110;
    const raioBase = 25;
    const raio = raioBase + (sala % 6) * 12;
    const angulo = (sala * 37) * Math.PI / 180;

    const x = centro + Math.cos(angulo) * raio;
    const y = centro + Math.sin(angulo) * raio;

    dot.style.left = x + "px";
    dot.style.top = y + "px";

    const btn = document.querySelector(".btn-sos");
    btn.disabled = true;
    btn.innerText = "LOCALIZANDO...";
    btn.style.animation = "none";
    btn.style.background = "#444";
}
</script>

</body>
</html>
